link(rel="import" href="../../../bower_components/polymer/polymer.html")
link(rel="import" href="../../../bower_components/app-layout/app-drawer-layout/app-drawer-layout.html")
link(rel="import" href="../../../bower_components/app-layout/app-drawer/app-drawer.html")
link(rel="import" href="../../../bower_components/app-layout/app-header-layout/app-header-layout.html")
link(rel="import" href="../../../bower_components/app-layout/app-header/app-header.html")
link(rel="import" href="../../../bower_components/app-layout/app-toolbar/app-toolbar.html")
link(rel="import" href="../../../bower_components/paper-button/paper-button.html")
link(rel="import" href="../../../bower_components/iron-icons/iron-icons.html")
link(rel="import" href="../../../bower_components/iron-icons/image-icons.html")
link(rel="import" href="../../../bower_components/paper-icon-button/paper-icon-button.html")
link(rel="import" href="../../../bower_components/paper-header-panel/paper-header-panel.html")
link(rel="import" href="../../../bower_components/paper-toolbar/paper-toolbar.html")
link(rel="import" href="../../../bower_components/paper-badge/paper-badge.html")
link(rel="import" href="../../../bower_components/paper-dialog/paper-dialog.html")
link(rel="import" href="../../../bower_components/paper-input/paper-input.html")
link(rel="import" href="../../../bower_components/paper-drawer-panel/paper-drawer-panel.html")
link(rel="import" href="../../../bower_components/paper-card/paper-card.html")
link(rel="import" href="../../../bower_components/paper-fab/paper-fab.html")
link(rel="import" href="../../../bower_components/iron-flex-layout/iron-flex-layout-classes.html")
link(rel="import" href="../../hoge-elm/hoge-elm.html")

dom-module#page-room
  template
    style(include="iron-flex iron-flex-alignment")
    style(is="custom-style").
      .card-content {
        height: 100%;
        box-sizing: border-box;
      }
      .main {
        padding: 1rem;
        height: 100%;
      }
      .main > paper-card {
        height: 60vh
      }
      .comments paper-card {
        width: 500px
      }
      .actions paper-card {
        width: 500px
      }
      section {
        padding: 1rem
      }
      paper-fab {
        position: fixed;
        bottom: 2rem;
        right: 2rem;
        --paper-fab-background: var(--accent-color)
      }
    paper-drawer-panel(responsive-width="960px")
      div(drawer)
        section
          h2.title Nigiwai
        section
          .user
            .name haraaki
      paper-header-panel(main)
        paper-toolbar
          paper-icon-button(icon="menu" paper-drawer-toggle)
          .title.flex [[room.name]]
          paper-icon-button(icon="image:edit" on-tap="openDialog")
        .main.block.horizontal.layout.center-justified.center
          paper-card
            .card-content.layout.vertical
              paper-card.flex
                .card-content
                  template(is="dom-repeat" items="[[comments]]")
                    .comment [[item.value]]
              paper-card
                .card-content
                  hoge-elm
              paper-card.flex(elevation="0")
                .card-content.horizontal.layout.around-justified.center
                    span.clap
                      paper-button#clap(on-tap="clap" raised) パチパチ
                      paper-badge(for="clap" label="[[claps.length]]")
                    span.like
                      paper-button#like(on-tap="like" raised) いいね！
                      paper-badge(for="like" label="[[likes.length]]")
                    span.interesting
                      paper-button#interesting(on-tap="interesting" raised) 面白いっ
                      paper-badge(for="interesting" label="[[interestings.length]]")
          template(is="dom-repeat" items="[[claps]]")
            audio(src="/files/sounds/clap.mp3" autoplay="[[item.autoplay]]")
          template(is="dom-repeat" items="[[likes]]")
            audio(src="/files/sounds/like.mp3" autoplay="[[item.autoplay]]")
          template(is="dom-repeat" items="[[interestings]]")
            audio(src="/files/sounds/interesting.mp3" autoplay="[[item.autoplay]]")
    paper-fab(icon="add" on-tap="openDialogForNewRoom")
    paper-dialog#dialog(modal on-iron-overlay-closed="onEditorClosed" on-iron-overlay-opened="onEditorOpened")
      header
        h2(hidden$="[[!isNewEdited]]") ルーム作成
        h2(hidden$="[[isNewEdited]]") ルーム編集
      .main
        paper-input(hidden$="[[!isNewEdited]]" label="ルーム名" value="{{newRoom.name}}")
        paper-input(hidden$="[[isNewEdited]]" label="ルーム名" value="{{room.name}}")
      footer
        paper-button(raised dialog-dismiss) Cancel
        paper-button(raised dialog-confirm autofocus) Save
  script(src="./page-room.js")

